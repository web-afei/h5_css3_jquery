<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
		<title>jQuery带进度图片定时切换 - 站长素材</title>
		<script src="http://code.jquery.com/jquery-1.8.2.min.js" type="text/javascript"></script>
		<script src="jquery.carouFredSel-6.1.0-packed.js" type="text/javascript"></script>
		<script type="text/javascript">
			$(function() {
				var timer = $('#timer'),
					timerTop = $('.top img', timer),
					timerBottom = $('.bottom img', timer);

				$('#carousel').carouFredSel({
					auto: {
						pauseOnEvent: 'resume',
						button: '#play',
						progress: {
							bar: '#timer',
							updater: function( percentage ) {
								if ( percentage < 50 ) {
									var deg = 180 - ( percentage * 180 / 50 );
									timerTop.css( 'transform', 'rotate( -' + deg + 'deg )' );
									timerBottom.css( 'transform', 'rotate( 0deg )' );
									
								} else {
									var deg = ( ( percentage - 50 ) * 180 / 50 );
									timerTop.css( 'transform', 'rotate( 0deg )' );
									timerBottom.css( 'transform', 'rotate( ' + deg + 'deg )' );
								}
							}
						}
					},
					scroll: {
						fx: 'crossfade',
						duration: 300,
						timeoutDuration: 3000,
						onBefore: function() {
							timer.hide();
						},
						onAfter: function() {
							timer.show();
							timerTop.css( 'transform', 'rotate( 182deg )' );
							timerBottom.css( 'transform', 'rotate( 0deg )' );
						}
					}
				});
			});
		</script>
		<style type="text/css">
			html, body {
				height: 100%;
				padding: 0;
				margin: 0;
			}
			body {
				background-color: #9cdbff;
				position: relative;
				min-height: 300px !important;
			}
			body * {
				font-family: Arial, Geneva, SunSans-Regular, sans-serif;
				font-size: 14px;
				color: #333;
				line-height: 22px;
			}
			body h3 {
				font-family: Arial, Geneva, SunSans-Regular, sans-serif;
				font-size: 20px;
				text-align: center;
				color: #999;
				margin: 0;
				padding-top: 50px;
				position: relative;
				z-index: 2;
			}
			#wrapper {
				border: 20px solid rgba( 255, 255, 255, 0.5 );
				box-shadow: 0 10px 20px rgba( 0, 0, 0, 0.3 );
				width: 800px;
				height: 500px;
				margin: -270px 0 0 -420px;
				position: absolute;
				top: 50%;
				left: 50%;
				overflow: hidden;
			}
			#carousel img {
				float: left;
			}

			#timer,
			#play {
				position: absolute;
				top: 50%;
				left: 50%;
				z-index: 2;
				opacity: 0.2;
				transition: opacity 0.5s ease;
			}

			#timer {
				width: 150px;
				height: 150px;
				margin: -75px 0 0 -75px;
			}
			#timer .top,
			#timer .bottom {
				width: 150px;
				height: 75px;
				overflow: hidden;
			}
			#timer .bottom img {
				margin-top: -76px;
				transform: rotate(180deg);
			}

			#play {
				border: 20px solid transparent;
				border-left: 30px solid #fff;			
				width: 0;
				height: 0;
				margin: -20px 0 0 -10px;
			}
			#play.paused {
				border: 10px solid #fff;
				border-top: none;
				border-bottom: none;
				width: 10px;
				height: 36px;
				margin: -18px 0 0 -14px;
			}
			#wrapper:hover #timer,
			#wrapper:hover #play {
				opacity: 0.7;
			}


			#donate-spacer {
				height: 100%;
			}
			#donate {
				border-top: 1px solid #999;
				width: 750px;
				padding: 50px 75px;
				margin: 0 auto;
				overflow: hidden;
			}
			#donate p, #donate form {
				margin: 0;
				float: left;
			}
			#donate p {
				width: 650px;
			}
			#donate form {
				width: 100px;
			}
		</style>
	</head>
	<body>
		<div id="wrapper">
			<div id="carousel">
				<img src="img/city1.jpg" width="800" height="500" />
				<img src="img/city2.jpg" width="800" height="500" />
				<img src="img/city3.jpg" width="800" height="500" />
				<img src="img/city4.jpg" width="800" height="500" />
			</div>
			<div id="timer">
				<div class="top">
					<img src="img/timer.png" />
				</div>
				<div class="bottom">
					<img src="img/timer.png" />
				</div>
			</div>
			<a id="play" href="#"></a>
		</div>
<div style="text-align:center;clear:both">
<p>适用浏览器：FireFox、Chrome、Safari、Opera、傲游、搜狗. 不支持IE8、360、世界之窗。</p>

</div>
	</body>
</html>