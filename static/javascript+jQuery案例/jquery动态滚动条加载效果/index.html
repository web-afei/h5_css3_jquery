<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>jquery动态滚动条加载效果</title>
<style>
*{ margin:0; padding:0; list-style:none}
.barline{float:left;width:200px;background:#FFF;border:2px solid #4DBF7D;height:12px;display:inline-block;border-radius:8px;display:none;position:absolute;left:100px;top:100px;}
.barline #percent{position:absolute;left:0px;top:-30px;display:inline-block;color:#4DBF7D;font-size:16px;}
.barline #line{float:left;height:12px;overflow:hidden;background:#4DBF7D;border-radius:8px;}
.barline #msg{position:absolute;left:80px;top:30px;display:inline-block;color:#4DBF7D;font-size:14px;}
</style>
</head>
<body>

<!-- 代码部分begin -->
<button type="button" onClick="processerbar(3000)">上传</button>
<!-- 父级元素 -->
<div style="margin:10px;padding:10px;width:500px;height:500px;background:#EEE;">
<!-- 进度条 -->
	<div class="barline" id="probar">
		<div id="percent"></div>
		<div id="line" w="100" style="width:0px;"></div>	
		<div id="msg" style=""></div>			
	</div>
</div>
<script src="js/jquery.min.js"></script>
<script>
function processerbar(time){
     document.getElementById('probar').style.display="block";
	$("#line").each(function(i,item){
		var a=parseInt($(item).attr("w"));
		$(item).animate({
			width: a+"%"
		},time);
	});
   var si = window.setInterval(
	function(){
		a=$("#line").width();
		b=(a/200*100).toFixed(0);
		document.getElementById('percent').innerHTML=b+"%";
		document.getElementById('percent').style.left=a-12+"px";
		document.getElementById('msg').innerHTML="上传中";
		if(document.getElementById('percent').innerHTML=="100%") {
		clearInterval(si);
		document.getElementById('msg').innerHTML="&nbsp;&nbsp;成功";
		}
	},70);
}
</script>
<!-- 代码部分end -->

</body>
</html>